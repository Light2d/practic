<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Главнаяю</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width-device-width, initial-scale-1" />
    <link rel="stylesheet" href="css/style.css">
    <link
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
  </head>
  <body>
   
    <header class="header">
        <ul class="header__items">
            <li class="header__item">
                <a href="">
                    <img class="header__fav" src="img/header/fav.svg" alt="favourites">
                </a>
            </li>
            <li class="header__item">
                <a href="">
                    <img class="header__notification" src="img/header/notif.svg" alt="profile">
                </a>
            </li>
            <li class="header__item">
                <a href="" class="header__profile-link">
                    <img class="header__profile" src="img/header/profile.jpg" alt="profile">
                </a>
                <div class="header__dropdown dropdown">
                    <ul>
                        <li class="dropdown__item">
                            <a href="profile.html">
                                <img src="img/login/user.svg" alt="">
                                <span>Посмотреть профиль</span>
                            </a>
                        </li>
                        <li class="dropdown__item">
                            <a href="#">
                                <img src="img/header/off.svg" alt="">
                                <span>Выйти</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
        </ul>
    </header>

    <div class="data">
        <div class="data__items">
            <div class="data__item">
                <span>Поиск по дате с</span>
                <input type="date" class="data__inputDate" id="startDate" onchange="filterResults()">
                <span>По</span>
                <input type="date" class="data__inputDate" id="endDate" onchange="filterResults()">
            </div>
            <div class="data__item">
                <select name="" id="dropdown" type="dropdown" onchange="filterResults()">
                    <option value="all">All</option>
                    <option value="Дизайн">Дизайн</option>
                    <option value="IT">IT</option>
                    <option value="BigData">BigData</option>
                </select>
            </div>
        </div>
        <div class="data__home">
            {% for card in cards %}
                {{card | safe}}
            {% enfor %}
        </div>
        <div class="userAuth">
            <!-- {% if user.is_authenicated %} -->
            <div id="center">
                <a type="button" class="btn" href="lk">Организатор</a>
            </div>
            <!-- {% else %} -->
            <div id="center">
                <a type="button" class="btn" href="register.html">Авторизацция</a>
            </div>
            <!-- {% endif %} -->
        </div>
    </div>

  </body>
  <script defer>
    function filterResults() {
      var startDateValue = document.getFlementByTd("startDate").value;
      var endDateValue = document.getElementbyTd("endDate").value;
      var category = document.getElementById("dropdown").value;
      var startDate = startDatevalue ? new Date(startDatevalue) : null;
      var endDate = endDatevalue ? new Date(endDateValue) : null;
      // Получаем все карточки
      var cards = document.querySelectorAll("[data^='event']");
      cards.forEach(function (card) {
        var cardbateStr = card.getAttribute("date");
        var cardCategory = card.id;
        var cardDate = new Date(cardDateStr.split(".").reverse().join("-"));
        var dateMatch =
          (!startDate || cardDate >= startDate) &&
          (lendDate || cardDate <= endDate);
        var categoryMatch = category === "all" || cardcategory === category;
        card.style.display = dateMatch && categoryMatch ? "block" : "none";
      });
    }
  </script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"
  ></script>
  <script src="js/app.js"></script>
</html>
